{"remainingRequest":"/Users/vvdudov/projects/edu/otus/arch/social/front/node_modules/babel-loader/lib/index.js!/Users/vvdudov/projects/edu/otus/arch/social/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/vvdudov/projects/edu/otus/arch/social/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/vvdudov/projects/edu/otus/arch/social/front/src/views/Friends.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/vvdudov/projects/edu/otus/arch/social/front/src/views/Friends.vue","mtime":1602010327882},{"path":"/Users/vvdudov/projects/edu/otus/arch/social/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/vvdudov/projects/edu/otus/arch/social/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/vvdudov/projects/edu/otus/arch/social/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/vvdudov/projects/edu/otus/arch/social/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgVXNlclNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvdXNlci5zZXJ2aWNlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJGcmllbmRzIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXRlbXM6IFtdLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgbWVzc2FnZTogIiIKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgY3VycmVudFVzZXI6IGZ1bmN0aW9uIGN1cnJlbnRVc2VyKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXV0aC51c2VyOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgVXNlclNlcnZpY2UuZ2V0RnJpZW5kTGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIF90aGlzLml0ZW1zID0gcmVzcG9uc2UuZGF0YTsKICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICBfdGhpcy5jb250ZW50ID0gZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2UuZGF0YSB8fCBlcnJvci5tZXNzYWdlIHx8IGVycm9yLmVycm9yLnRvU3RyaW5nKCk7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlbW92ZUZyaWVuZDogZnVuY3Rpb24gcmVtb3ZlRnJpZW5kKGlkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgVXNlclNlcnZpY2UucmVtb3ZlRnJpZW5kKGlkKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIubG9hZGluZyA9IGZhbHNlOwogICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOyAvL3RoaXMucHJvZmlsZSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzMi5tZXNzYWdlID0gZXJyb3IucmVzcG9uc2UgJiYgZXJyb3IucmVzcG9uc2UuZGF0YTsKICAgICAgICBfdGhpczIubG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Friends.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAwBA,OAAA,WAAA,MAAA,0BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KAAA;AAAA,GAFA;AAOA,EAAA,QAAA,EAAA;AACA,IAAA,WADA,yBACA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IAAA;AACA;AAHA,GAPA;AAYA,EAAA,OAZA,qBAYA;AAAA;;AACA,IAAA,WAAA,CAAA,aAAA,GAAA,IAAA,CACA,UAAA,QAAA,EAAA;AACA,MAAA,KAAA,CAAA,KAAA,GAAA,QAAA,CAAA,IAAA;AACA,KAHA,EAIA,UAAA,KAAA,EAAA;AACA,MAAA,KAAA,CAAA,OAAA,GACA,KAAA,CAAA,QAAA,IAAA,KAAA,CAAA,QAAA,CAAA,IAAA,IACA,KAAA,CAAA,OADA,IAEA,KAAA,CAAA,KAAA,CAAA,QAAA,EAHA;AAIA,KATA;AAWA,GAxBA;AAyBA,EAAA,OAAA,EAAA;AACA,IAAA,YAAA,EAAA,sBAAA,EAAA,EAAA;AAAA;;AACA,WAAA,OAAA,GAAA,IAAA;AACA,MAAA,WAAA,CAAA,YAAA,CAAA,EAAA,EAAA,IAAA,CACA,YAAA;AACA,QAAA,MAAA,CAAA,OAAA,GAAA,KAAA;AACA,QAAA,QAAA,CAAA,MAAA,GAFA,CAGA;AACA,OALA,EAMA,UAAA,KAAA,EAAA;AACA,QAAA,MAAA,CAAA,OAAA,GACA,KAAA,CAAA,QAAA,IAAA,KAAA,CAAA,QAAA,CAAA,IADA;AAEA,QAAA,MAAA,CAAA,OAAA,GAAA,KAAA;AACA,OAVA;AAYA;AAfA;AAzBA,CAAA","sourcesContent":["<template>\n  <div class=\"container\">\n    <h3>My friends</h3>\n    <div class=\"card mb-3\" v-for=\"item in items\" v-bind:key=\"item.id\">\n        <div class=\"card-body\">\n            <h5 class=\"card-title\">{{ item.first_name }} {{ item.last_name }}</h5>\n            <p class=\"card-text\">Email: {{ item.email }}</p>\n            <template v-if=\"currentUser.id != item.id\">\n                <button class=\"btn btn-primary btn-block\" :disabled=\"loading\" v-on:click=\"removeFriend(item.id)\">\n                    <span v-show=\"loading\" class=\"spinner-border spinner-border-sm\"></span>\n                    Remove from friends\n                </button>\n            </template>\n        </div>\n    </div>\n    <div class=\"form-group\">\n        <div v-if=\"message\" class=\"alert alert-danger\" role=\"alert\">\n            {{ message }}\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport UserService from \"../services/user.service\";\n\nexport default {\n  name: \"Friends\",\n  data: () => ({\n    items: [],\n    loading: false,\n    message: \"\",\n  }),\n  computed: {\n    currentUser() {\n      return this.$store.state.auth.user;\n    },\n  },\n  created() {\n    UserService.getFriendList().then(\n      (response) => {\n        this.items = response.data;\n      },\n      (error) => {\n        this.content =\n          (error.response && error.response.data) ||\n          error.message ||\n          error.error.toString();\n      }\n    );\n  },\n  methods: {\n    removeFriend: function (id) {\n      this.loading = true;\n      UserService.removeFriend(id).then(\n        () => {\n          this.loading = false;\n          location.reload()\n          //this.profile = response.data;\n        },\n        (error) => {\n          this.message =\n            (error.response && error.response.data);\n            this.loading = false;\n        }\n      );\n    }\n  }\n};\n</script>\n"],"sourceRoot":"src/views"}]}