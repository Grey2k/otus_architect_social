{"remainingRequest":"/Users/vvdudov/projects/edu/otus/arch/social/front/otus-social-front/node_modules/babel-loader/lib/index.js!/Users/vvdudov/projects/edu/otus/arch/social/front/otus-social-front/node_modules/eslint-loader/index.js??ref--13-0!/Users/vvdudov/projects/edu/otus/arch/social/front/otus-social-front/src/router.js","dependencies":[{"path":"/Users/vvdudov/projects/edu/otus/arch/social/front/otus-social-front/src/router.js","mtime":1601575598737},{"path":"/Users/vvdudov/projects/edu/otus/arch/social/front/otus-social-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/vvdudov/projects/edu/otus/arch/social/front/otus-social-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/vvdudov/projects/edu/otus/arch/social/front/otus-social-front/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgSG9tZSBmcm9tICcuL3ZpZXdzL0hvbWUudnVlJzsKaW1wb3J0IExvZ2luIGZyb20gJy4vdmlld3MvTG9naW4udnVlJzsKaW1wb3J0IFJlZ2lzdGVyIGZyb20gJy4vdmlld3MvUmVnaXN0ZXIudnVlJzsKVnVlLnVzZShSb3V0ZXIpOwpleHBvcnQgdmFyIHJvdXRlciA9IG5ldyBSb3V0ZXIoewogIG1vZGU6ICdoaXN0b3J5JywKICByb3V0ZXM6IFt7CiAgICBwYXRoOiAnLycsCiAgICBuYW1lOiAnaG9tZScsCiAgICBjb21wb25lbnQ6IEhvbWUKICB9LCB7CiAgICBwYXRoOiAnL2hvbWUnLAogICAgY29tcG9uZW50OiBIb21lCiAgfSwgewogICAgcGF0aDogJy9sb2dpbicsCiAgICBjb21wb25lbnQ6IExvZ2luCiAgfSwgewogICAgcGF0aDogJy9yZWdpc3RlcicsCiAgICBjb21wb25lbnQ6IFJlZ2lzdGVyCiAgfSwgewogICAgcGF0aDogJy9wcm9maWxlJywKICAgIG5hbWU6ICdwcm9maWxlJywKICAgIC8vIGxhenktbG9hZGVkCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnLi92aWV3cy9Qcm9maWxlLnZ1ZScpOwogICAgfQogIH1dCn0pOwpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICB2YXIgcHVibGljUGFnZXMgPSBbJy9sb2dpbicsICcvcmVnaXN0ZXInLCAnL2hvbWUnXTsKICB2YXIgYXV0aFJlcXVpcmVkID0gIXB1YmxpY1BhZ2VzLmluY2x1ZGVzKHRvLnBhdGgpOwogIHZhciBsb2dnZWRJbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJyk7IC8vIHRyeWluZyB0byBhY2Nlc3MgYSByZXN0cmljdGVkIHBhZ2UgKyBub3QgbG9nZ2VkIGluCiAgLy8gcmVkaXJlY3QgdG8gbG9naW4gcGFnZQoKICBpZiAoYXV0aFJlcXVpcmVkICYmICFsb2dnZWRJbikgewogICAgbmV4dCgnL2xvZ2luJyk7CiAgfSBlbHNlIHsKICAgIG5leHQoKTsKICB9Cn0pOw=="},{"version":3,"sources":["/Users/vvdudov/projects/edu/otus/arch/social/front/otus-social-front/src/router.js"],"names":["Vue","Router","Home","Login","Register","use","router","mode","routes","path","name","component","beforeEach","to","from","next","publicPages","authRequired","includes","loggedIn","localStorage","getItem"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AAEAJ,GAAG,CAACK,GAAJ,CAAQJ,MAAR;AAEA,OAAO,IAAMK,MAAM,GAAG,IAAIL,MAAJ,CAAW;AAC7BM,EAAAA,IAAI,EAAE,SADuB;AAE7BC,EAAAA,MAAM,EAAE,CACJ;AACIC,IAAAA,IAAI,EAAE,GADV;AAEIC,IAAAA,IAAI,EAAE,MAFV;AAGIC,IAAAA,SAAS,EAAET;AAHf,GADI,EAMJ;AACIO,IAAAA,IAAI,EAAE,OADV;AAEIE,IAAAA,SAAS,EAAET;AAFf,GANI,EAUJ;AACIO,IAAAA,IAAI,EAAE,QADV;AAEIE,IAAAA,SAAS,EAAER;AAFf,GAVI,EAcJ;AACIM,IAAAA,IAAI,EAAE,WADV;AAEIE,IAAAA,SAAS,EAAEP;AAFf,GAdI,EAkBJ;AACIK,IAAAA,IAAI,EAAE,UADV;AAEIC,IAAAA,IAAI,EAAE,SAFV;AAGI;AACAC,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,qBAAP,CAAN;AAAA;AAJf,GAlBI;AAFqB,CAAX,CAAf;AA6BPL,MAAM,CAACM,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClC,MAAMC,WAAW,GAAG,CAAC,QAAD,EAAW,WAAX,EAAwB,OAAxB,CAApB;AACA,MAAMC,YAAY,GAAG,CAACD,WAAW,CAACE,QAAZ,CAAqBL,EAAE,CAACJ,IAAxB,CAAtB;AACA,MAAMU,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAjB,CAHkC,CAKlC;AACA;;AACA,MAAIJ,YAAY,IAAI,CAACE,QAArB,EAA+B;AAC3BJ,IAAAA,IAAI,CAAC,QAAD,CAAJ;AACH,GAFD,MAEO;AACHA,IAAAA,IAAI;AACP;AACJ,CAZD","sourcesContent":["import Vue from 'vue';\nimport Router from 'vue-router';\nimport Home from './views/Home.vue';\nimport Login from './views/Login.vue';\nimport Register from './views/Register.vue';\n\nVue.use(Router);\n\nexport const router = new Router({\n    mode: 'history',\n    routes: [\n        {\n            path: '/',\n            name: 'home',\n            component: Home\n        },\n        {\n            path: '/home',\n            component: Home\n        },\n        {\n            path: '/login',\n            component: Login\n        },\n        {\n            path: '/register',\n            component: Register\n        },\n        {\n            path: '/profile',\n            name: 'profile',\n            // lazy-loaded\n            component: () => import('./views/Profile.vue')\n        },\n    ]\n});\n\nrouter.beforeEach((to, from, next) => {\n    const publicPages = ['/login', '/register', '/home'];\n    const authRequired = !publicPages.includes(to.path);\n    const loggedIn = localStorage.getItem('user');\n\n    // trying to access a restricted page + not logged in\n    // redirect to login page\n    if (authRequired && !loggedIn) {\n        next('/login');\n    } else {\n        next();\n    }\n});\n"]}]}