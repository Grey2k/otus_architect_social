{"remainingRequest":"/Users/vvdudov/projects/edu/otus/arch/social/front/otus-social-front/node_modules/babel-loader/lib/index.js!/Users/vvdudov/projects/edu/otus/arch/social/front/otus-social-front/node_modules/eslint-loader/index.js??ref--13-0!/Users/vvdudov/projects/edu/otus/arch/social/front/otus-social-front/src/services/auth.service.js","dependencies":[{"path":"/Users/vvdudov/projects/edu/otus/arch/social/front/otus-social-front/src/services/auth.service.js","mtime":1601666678670},{"path":"/Users/vvdudov/projects/edu/otus/arch/social/front/otus-social-front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/vvdudov/projects/edu/otus/arch/social/front/otus-social-front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/vvdudov/projects/edu/otus/arch/social/front/otus-social-front/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvdnZkdWRvdi9wcm9qZWN0cy9lZHUvb3R1cy9hcmNoL3NvY2lhbC9mcm9udC9vdHVzLXNvY2lhbC1mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy92dmR1ZG92L3Byb2plY3RzL2VkdS9vdHVzL2FyY2gvc29jaWFsL2Zyb250L290dXMtc29jaWFsLWZyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CnZhciBBUElfVVJMID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA5MC9hcGkvJzsKCnZhciBBdXRoU2VydmljZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gQXV0aFNlcnZpY2UoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQXV0aFNlcnZpY2UpOwogIH0KCiAgX2NyZWF0ZUNsYXNzKEF1dGhTZXJ2aWNlLCBbewogICAga2V5OiAibG9naW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxvZ2luKHVzZXIpIHsKICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoQVBJX1VSTCArICdsb2dpbicsIHsKICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSwKICAgICAgICBwYXNzd29yZDogdXNlci5wYXNzd29yZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmFjY2Vzc1Rva2VuKSB7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlcicsIEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEpKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJsb2dvdXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3VzZXInKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZWdpc3RlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVnaXN0ZXIodXNlcikgewogICAgICByZXR1cm4gYXhpb3MucG9zdChBUElfVVJMICsgJ3JlZ2lzdGVyJywgewogICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLAogICAgICAgIHBhc3N3b3JkOiB1c2VyLnBhc3N3b3JkLAogICAgICAgIGZpcnN0X25hbWU6IHVzZXIuZmlyc3RfbmFtZSwKICAgICAgICBsYXN0X25hbWU6IHVzZXIubGFzdF9uYW1lLAogICAgICAgIGJpcnRoX2RhdGU6IHVzZXIuYmlydGhfZGF0ZSwKICAgICAgICBzZXg6IHVzZXIuc2V4LAogICAgICAgIGludGVyZXN0OiB1c2VyLmludGVyZXN0LAogICAgICAgIGNpdHk6IHVzZXIuY2l0eQogICAgICB9KTsKICAgIH0KICB9XSk7CgogIHJldHVybiBBdXRoU2VydmljZTsKfSgpOwoKZXhwb3J0IGRlZmF1bHQgbmV3IEF1dGhTZXJ2aWNlKCk7"},{"version":3,"sources":["/Users/vvdudov/projects/edu/otus/arch/social/front/otus-social-front/src/services/auth.service.js"],"names":["axios","API_URL","AuthService","user","post","username","password","then","response","data","accessToken","localStorage","setItem","JSON","stringify","removeItem","email","first_name","last_name","birth_date","sex","interest","city"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,OAAO,GAAG,4BAAhB;;IAEMC,W;;;;;;;0BACIC,I,EAAM;AACR,aAAOH,KAAK,CACPI,IADE,CACGH,OAAO,GAAG,OADb,EACsB;AACrBI,QAAAA,QAAQ,EAAEF,IAAI,CAACE,QADM;AAErBC,QAAAA,QAAQ,EAAEH,IAAI,CAACG;AAFM,OADtB,EAKFC,IALE,CAKG,UAAAC,QAAQ,EAAI;AACd,YAAIA,QAAQ,CAACC,IAAT,CAAcC,WAAlB,EAA+B;AAC3BC,UAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeN,QAAQ,CAACC,IAAxB,CAA7B;AACH;;AAED,eAAOD,QAAQ,CAACC,IAAhB;AACH,OAXE,CAAP;AAYH;;;6BAEQ;AACLE,MAAAA,YAAY,CAACI,UAAb,CAAwB,MAAxB;AACH;;;6BAEQZ,I,EAAM;AACX,aAAOH,KAAK,CAACI,IAAN,CAAWH,OAAO,GAAG,UAArB,EAAiC;AACpCe,QAAAA,KAAK,EAAEb,IAAI,CAACa,KADwB;AAEpCV,QAAAA,QAAQ,EAAEH,IAAI,CAACG,QAFqB;AAGpCW,QAAAA,UAAU,EAAEd,IAAI,CAACc,UAHmB;AAIpCC,QAAAA,SAAS,EAAEf,IAAI,CAACe,SAJoB;AAKpCC,QAAAA,UAAU,EAAEhB,IAAI,CAACgB,UALmB;AAMpCC,QAAAA,GAAG,EAAEjB,IAAI,CAACiB,GAN0B;AAOpCC,QAAAA,QAAQ,EAAElB,IAAI,CAACkB,QAPqB;AAQpCC,QAAAA,IAAI,EAAEnB,IAAI,CAACmB;AARyB,OAAjC,CAAP;AAUH;;;;;;AAGL,eAAe,IAAIpB,WAAJ,EAAf","sourcesContent":["import axios from 'axios';\n\nconst API_URL = 'http://localhost:8090/api/';\n\nclass AuthService {\n    login(user) {\n        return axios\n            .post(API_URL + 'login', {\n                username: user.username,\n                password: user.password\n            })\n            .then(response => {\n                if (response.data.accessToken) {\n                    localStorage.setItem('user', JSON.stringify(response.data));\n                }\n\n                return response.data;\n            });\n    }\n\n    logout() {\n        localStorage.removeItem('user');\n    }\n\n    register(user) {\n        return axios.post(API_URL + 'register', {\n            email: user.email,\n            password: user.password,\n            first_name: user.first_name,\n            last_name: user.last_name,\n            birth_date: user.birth_date,\n            sex: user.sex,\n            interest: user.interest,\n            city: user.city\n        });\n    }\n}\n\nexport default new AuthService();\n"]}]}