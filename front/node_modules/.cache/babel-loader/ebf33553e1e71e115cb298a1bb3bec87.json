{"remainingRequest":"/Users/vvdudov/projects/edu/otus/arch/social/front/node_modules/babel-loader/lib/index.js!/Users/vvdudov/projects/edu/otus/arch/social/front/node_modules/eslint-loader/index.js??ref--13-0!/Users/vvdudov/projects/edu/otus/arch/social/front/src/router.js","dependencies":[{"path":"/Users/vvdudov/projects/edu/otus/arch/social/front/src/router.js","mtime":1602006879145},{"path":"/Users/vvdudov/projects/edu/otus/arch/social/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/vvdudov/projects/edu/otus/arch/social/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/vvdudov/projects/edu/otus/arch/social/front/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCBIb21lIGZyb20gJy4vdmlld3MvSG9tZS52dWUnOwppbXBvcnQgTG9naW4gZnJvbSAnLi92aWV3cy9Mb2dpbi52dWUnOwppbXBvcnQgUmVnaXN0ZXIgZnJvbSAnLi92aWV3cy9SZWdpc3Rlci52dWUnOwppbXBvcnQgVXNlciBmcm9tICcuL3ZpZXdzL1VzZXIudnVlJzsKaW1wb3J0IFByb2ZpbGUgZnJvbSAnLi92aWV3cy9Qcm9maWxlLnZ1ZSc7CmltcG9ydCBGcmllbmRzIGZyb20gJy4vdmlld3MvRnJpZW5kcy52dWUnOwpWdWUudXNlKFJvdXRlcik7CmV4cG9ydCB2YXIgcm91dGVyID0gbmV3IFJvdXRlcih7CiAgbW9kZTogJ2hpc3RvcnknLAogIHJvdXRlczogW3sKICAgIHBhdGg6ICcvJywKICAgIG5hbWU6ICdob21lJywKICAgIGNvbXBvbmVudDogSG9tZQogIH0sIHsKICAgIHBhdGg6ICcvaG9tZScsCiAgICBjb21wb25lbnQ6IEhvbWUKICB9LCB7CiAgICBwYXRoOiAnL2xvZ2luJywKICAgIGNvbXBvbmVudDogTG9naW4KICB9LCB7CiAgICBwYXRoOiAnL3JlZ2lzdGVyJywKICAgIGNvbXBvbmVudDogUmVnaXN0ZXIKICB9LCB7CiAgICBwYXRoOiAnL3VzZXIvOnVzZXJJZCcsCiAgICBuYW1lOiAndXNlcicsCiAgICAvLyBsYXp5LWxvYWRlZAogICAgLy9jb21wb25lbnQ6ICgpID0+IGltcG9ydCgnLi92aWV3cy9Vc2VyLnZ1ZScpCiAgICBjb21wb25lbnQ6IFVzZXIKICB9LCB7CiAgICBwYXRoOiAnL3Byb2ZpbGUnLAogICAgbmFtZTogJ3Byb2ZpbGUnLAogICAgLy8gbGF6eS1sb2FkZWQKICAgIC8vY29tcG9uZW50OiAoKSA9PiBpbXBvcnQoJy4vdmlld3MvUHJvZmlsZS52dWUnKQogICAgY29tcG9uZW50OiBQcm9maWxlCiAgfSwgewogICAgcGF0aDogJy9mcmllbmRzJywKICAgIG5hbWU6ICdmcmllbmRzJywKICAgIC8vIGxhenktbG9hZGVkCiAgICAvL2NvbXBvbmVudDogKCkgPT4gaW1wb3J0KCcuL3ZpZXdzL1Byb2ZpbGUudnVlJykKICAgIGNvbXBvbmVudDogRnJpZW5kcwogIH1dCn0pOwpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICB2YXIgYXV0aFBhZ2VzID0gWycvcHJvZmlsZSddOwogIHZhciBhdXRoUmVxdWlyZWQgPSBhdXRoUGFnZXMuaW5jbHVkZXModG8ucGF0aCk7CiAgdmFyIGxvZ2dlZEluID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXInKTsgLy8gdHJ5aW5nIHRvIGFjY2VzcyBhIHJlc3RyaWN0ZWQgcGFnZSArIG5vdCBsb2dnZWQgaW4KICAvLyByZWRpcmVjdCB0byBsb2dpbiBwYWdlCgogIGlmIChhdXRoUmVxdWlyZWQgJiYgIWxvZ2dlZEluKSB7CiAgICBuZXh0KCcvbG9naW4nKTsKICB9IGVsc2UgewogICAgbmV4dCgpOwogIH0KfSk7"},{"version":3,"sources":["/Users/vvdudov/projects/edu/otus/arch/social/front/src/router.js"],"names":["Vue","Router","Home","Login","Register","User","Profile","Friends","use","router","mode","routes","path","name","component","beforeEach","to","from","next","authPages","authRequired","includes","loggedIn","localStorage","getItem"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AAEAP,GAAG,CAACQ,GAAJ,CAAQP,MAAR;AAEA,OAAO,IAAMQ,MAAM,GAAG,IAAIR,MAAJ,CAAW;AAC7BS,EAAAA,IAAI,EAAE,SADuB;AAE7BC,EAAAA,MAAM,EAAE,CACJ;AACIC,IAAAA,IAAI,EAAE,GADV;AAEIC,IAAAA,IAAI,EAAE,MAFV;AAGIC,IAAAA,SAAS,EAAEZ;AAHf,GADI,EAMJ;AACIU,IAAAA,IAAI,EAAE,OADV;AAEIE,IAAAA,SAAS,EAAEZ;AAFf,GANI,EAUJ;AACIU,IAAAA,IAAI,EAAE,QADV;AAEIE,IAAAA,SAAS,EAAEX;AAFf,GAVI,EAcJ;AACIS,IAAAA,IAAI,EAAE,WADV;AAEIE,IAAAA,SAAS,EAAEV;AAFf,GAdI,EAkBJ;AACIQ,IAAAA,IAAI,EAAE,eADV;AAEIC,IAAAA,IAAI,EAAE,MAFV;AAGI;AACA;AACAC,IAAAA,SAAS,EAAET;AALf,GAlBI,EAyBJ;AACIO,IAAAA,IAAI,EAAE,UADV;AAEIC,IAAAA,IAAI,EAAE,SAFV;AAGI;AACA;AACAC,IAAAA,SAAS,EAAER;AALf,GAzBI,EAgCJ;AACIM,IAAAA,IAAI,EAAE,UADV;AAEIC,IAAAA,IAAI,EAAE,SAFV;AAGI;AACA;AACAC,IAAAA,SAAS,EAAEP;AALf,GAhCI;AAFqB,CAAX,CAAf;AA4CPE,MAAM,CAACM,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClC,MAAMC,SAAS,GAAG,CAAC,UAAD,CAAlB;AACA,MAAMC,YAAY,GAAGD,SAAS,CAACE,QAAV,CAAmBL,EAAE,CAACJ,IAAtB,CAArB;AACA,MAAMU,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAjB,CAHkC,CAKlC;AACA;;AACA,MAAIJ,YAAY,IAAI,CAACE,QAArB,EAA+B;AAC3BJ,IAAAA,IAAI,CAAC,QAAD,CAAJ;AACH,GAFD,MAEO;AACHA,IAAAA,IAAI;AACP;AACJ,CAZD","sourcesContent":["import Vue from 'vue';\nimport Router from 'vue-router';\nimport Home from './views/Home.vue';\nimport Login from './views/Login.vue';\nimport Register from './views/Register.vue';\nimport User from './views/User.vue';\nimport Profile from './views/Profile.vue';\nimport Friends from './views/Friends.vue';\n\nVue.use(Router);\n\nexport const router = new Router({\n    mode: 'history',\n    routes: [\n        {\n            path: '/',\n            name: 'home',\n            component: Home\n        },\n        {\n            path: '/home',\n            component: Home\n        },\n        {\n            path: '/login',\n            component: Login\n        },\n        {\n            path: '/register',\n            component: Register\n        },\n        {\n            path: '/user/:userId',\n            name: 'user',\n            // lazy-loaded\n            //component: () => import('./views/User.vue')\n            component: User\n        },\n        {\n            path: '/profile',\n            name: 'profile',\n            // lazy-loaded\n            //component: () => import('./views/Profile.vue')\n            component: Profile\n        },\n        {\n            path: '/friends',\n            name: 'friends',\n            // lazy-loaded\n            //component: () => import('./views/Profile.vue')\n            component: Friends\n        },\n    ]\n});\n\nrouter.beforeEach((to, from, next) => {\n    const authPages = ['/profile'];\n    const authRequired = authPages.includes(to.path);\n    const loggedIn = localStorage.getItem('user');\n\n    // trying to access a restricted page + not logged in\n    // redirect to login page\n    if (authRequired && !loggedIn) {\n        next('/login');\n    } else {\n        next();\n    }\n});\n"]}]}