{"remainingRequest":"/Users/vvdudov/projects/edu/otus/arch/social/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/vvdudov/projects/edu/otus/arch/social/front/src/views/User.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/vvdudov/projects/edu/otus/arch/social/front/src/views/User.vue","mtime":1602050970165},{"path":"/Users/vvdudov/projects/edu/otus/arch/social/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/vvdudov/projects/edu/otus/arch/social/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/vvdudov/projects/edu/otus/arch/social/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/vvdudov/projects/edu/otus/arch/social/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBVc2VyU2VydmljZSBmcm9tICIuLi9zZXJ2aWNlcy91c2VyLnNlcnZpY2UiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJVc2VyIiwKICBkYXRhOiAoKSA9PiAoewogICAgcHJvZmlsZTogW10sCiAgICBsb2FkaW5nOiBmYWxzZSwKICAgIHNlbnQ6IGZhbHNlLAogICAgc3VjY2VzczogZmFsc2UsCiAgICBtZXNzYWdlOiAiIiwKICB9KSwKCiAgY29tcHV0ZWQ6IHsKICAgIGN1cnJlbnRVc2VyKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXV0aC51c2VyOwogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgVXNlclNlcnZpY2UuZ2V0UHVibGljUHJvZmlsZUJ5SWQodGhpcy4kcm91dGUucGFyYW1zLnVzZXJJZCkudGhlbigKICAgICAgKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgdGhpcy5wcm9maWxlID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSwKICAgICAgKGVycm9yKSA9PiB7CiAgICAgICAgdGhpcy5tZXNzYWdlID0KICAgICAgICAgIChlcnJvci5yZXNwb25zZSAmJiBlcnJvci5yZXNwb25zZS5kYXRhKSB8fAogICAgICAgICAgZXJyb3IubWVzc2FnZSB8fAogICAgICAgICAgZXJyb3IuZXJyb3IudG9TdHJpbmcoKTsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9CiAgICApOwogIH0sCiAgbWV0aG9kczogewogICAgYWRkVG9GcmllbmRzOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIFVzZXJTZXJ2aWNlLmFkZEZyaWVuZCh0aGlzLnByb2ZpbGUuaWQpLnRoZW4oCiAgICAgICAgKCkgPT4gewogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB0aGlzLnN1Y2Nlc3MgPSB0cnVlOwogICAgICAgICAgdGhpcy5zZW50ID0gdHJ1ZTsKICAgICAgICAgIC8vdGhpcy5wcm9maWxlID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICB9LAogICAgICAgIChlcnJvcikgPT4gewogICAgICAgICAgdGhpcy5tZXNzYWdlID0KICAgICAgICAgICAgKGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3IpOwogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9CiAgICAgICk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["User.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"User.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"container\">\n    <h3>Profile</h3>\n    <ul class=\"list-group list-group-flush\">\n      <li class=\"list-group-item\"><strong>Email:</strong> {{ profile.email}}</li>\n      <li class=\"list-group-item\"><strong>First name:</strong> {{ profile.first_name}}</li>\n      <li class=\"list-group-item\"><strong>Last name:</strong> {{ profile.last_name}}</li>\n      <li class=\"list-group-item\"><strong>Sex:</strong> {{ profile.sex}}</li>\n      <li class=\"list-group-item\"><strong>Interest:</strong> {{ profile.interest}}</li>\n      <li class=\"list-group-item\"><strong>City:</strong> {{ profile.city}}</li>\n    </ul>\n    <div class=\"form-group\">\n      <div v-if=\"message\" class=\"alert alert-danger\" role=\"alert\">\n        {{ message }}\n      </div>\n      <div v-if=\"success\" class=\"alert alert-success\" role=\"alert\">\n        Success!\n      </div>\n    </div>\n    <template v-if=\"currentUser.id != profile.id\">\n      <button class=\"btn btn-primary btn-block\" :disabled=\"sent\" v-on:click=\"addToFriends\">\n        <span v-show=\"loading\" class=\"spinner-border spinner-border-sm\"></span>\n        Add to friends\n      </button>\n    </template>\n  </div>\n</template>\n\n<script>\nimport UserService from \"../services/user.service\";\n\nexport default {\n  name: \"User\",\n  data: () => ({\n    profile: [],\n    loading: false,\n    sent: false,\n    success: false,\n    message: \"\",\n  }),\n\n  computed: {\n    currentUser() {\n      return this.$store.state.auth.user;\n    },\n  },\n  created() {\n    this.loading = true;\n    UserService.getPublicProfileById(this.$route.params.userId).then(\n      (response) => {\n        this.profile = response.data;\n        this.loading = false;\n      },\n      (error) => {\n        this.message =\n          (error.response && error.response.data) ||\n          error.message ||\n          error.error.toString();\n          this.loading = false;\n      }\n    );\n  },\n  methods: {\n    addToFriends: function () {\n      this.loading = true;\n      UserService.addFriend(this.profile.id).then(\n        () => {\n          this.loading = false;\n          this.success = true;\n          this.sent = true;\n          //this.profile = response.data;\n        },\n        (error) => {\n          this.message =\n            (error.response && error.response.data.error);\n            this.loading = false;\n        }\n      );\n    }\n  }\n};\n</script>"]}]}